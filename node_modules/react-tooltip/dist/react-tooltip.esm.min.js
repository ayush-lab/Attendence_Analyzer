import{useEffect as vt,useRef as Ee,useState as C}from"react";import{useEffect as N,useState as Z,useRef as V}from"react";import Ft from"classnames";var Xt=(o,d,h)=>{let c=null;return function(...p){let E=()=>{c=null,h||o.apply(this,p)};c&&clearTimeout(c),c=setTimeout(E,d)}},Pt=Xt;import{createContext as jt,useCallback as Jt,useContext as zt,useMemo as Yt,useState as Nt}from"react";import{jsx as te}from"react/jsx-runtime";var gt="DEFAULT_TOOLTIP_ID",Gt={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Qt={getTooltipData:()=>Gt},Rt=jt(Qt),Zt=({children:o})=>{let[d,h]=Nt({[gt]:new Set}),[c,m]=Nt({[gt]:{current:null}}),p=(r,...a)=>{h(s=>{var y;let n=(y=s[r])!=null?y:new Set;return a.forEach(L=>n.add(L)),{...s,[r]:new Set(n)}})},E=(r,...a)=>{h(s=>{let n=s[r];return n?(a.forEach(y=>n.delete(y)),{...s}):s})},v=(r,a)=>{m(s=>{var n;return((n=s[r])==null?void 0:n.current)===a.current?s:{...s,[r]:a}})},b=Jt((r=gt)=>{var a,s;return{anchorRefs:(a=d[r])!=null?a:new Set,activeAnchor:(s=c[r])!=null?s:{current:null},attach:(...n)=>p(r,...n),detach:(...n)=>E(r,...n),setActiveAnchor:n=>v(r,n)}},[d,c,p,E]),A=Yt(()=>({getTooltipData:b}),[b]);return te(Rt.Provider,{value:A,children:o})};function j(o=gt){return zt(Rt).getTooltipData(o)}var It=Zt;import{useEffect as ee,useRef as oe}from"react";import re from"classnames";import{jsx as ie}from"react/jsx-runtime";var ne=({tooltipId:o,children:d,className:h,place:c,content:m,html:p,variant:E,offset:v,wrapper:b,events:A,positionStrategy:r,delayShow:a,delayHide:s})=>{let{attach:n,detach:y}=j(o),L=oe(null);return ee(()=>(n(L),()=>{y(L)}),[]),ie("span",{ref:L,className:re("react-tooltip-wrapper",h),"data-tooltip-place":c,"data-tooltip-content":m,"data-tooltip-html":p,"data-tooltip-variant":E,"data-tooltip-offset":v,"data-tooltip-wrapper":b,"data-tooltip-events":A,"data-tooltip-position-strategy":r,"data-tooltip-delay-show":a,"data-tooltip-delay-hide":s,children:d})},Ot=ne;import{useLayoutEffect as le,useEffect as se}from"react";var ce=typeof window!="undefined"?le:se,$t=ce;import{computePosition as Wt,offset as ae,shift as pe,arrow as ue,flip as fe}from"@floating-ui/dom";var Mt=async({elementReference:o=null,tooltipReference:d=null,tooltipArrowReference:h=null,place:c="top",offset:m=10,strategy:p="absolute",middlewares:E=[ae(Number(m)),fe(),pe({padding:5})]})=>{if(!o)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};if(d===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};let v=E;return h?(v.push(ue({element:h,padding:5})),Wt(o,d,{placement:c,strategy:p,middleware:v}).then(({x:b,y:A,placement:r,middlewareData:a})=>{var M,R;let s={left:`${b}px`,top:`${A}px`},{x:n,y}=(M=a.arrow)!=null?M:{x:0,y:0},L=(R={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]])!=null?R:"bottom",tt={left:n!=null?`${n}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",[L]:"-4px"};return{tooltipStyles:s,tooltipArrowStyles:tt,place:r}})):Wt(o,d,{placement:"bottom",strategy:p,middleware:v}).then(({x:b,y:A,placement:r})=>({tooltipStyles:{left:`${b}px`,top:`${A}px`},tooltipArrowStyles:{},place:r}))};var F={arrow:"react-tooltip__arrow_KtSkBq",clickable:"react-tooltip__clickable_KtSkBq",dark:"react-tooltip__dark_KtSkBq",error:"react-tooltip__error_KtSkBq",fixed:"react-tooltip__fixed_KtSkBq",info:"react-tooltip__info_KtSkBq",light:"react-tooltip__light_KtSkBq",noArrow:"react-tooltip__no-arrow_KtSkBq",show:"react-tooltip__show_KtSkBq",success:"react-tooltip__success_KtSkBq",tooltip:"react-tooltip__tooltip_KtSkBq",warning:"react-tooltip__warning_KtSkBq"};import{jsx as de,jsxs as me}from"react/jsx-runtime";var Te=({id:o,className:d,classNameArrow:h,variant:c="dark",anchorId:m,anchorSelect:p,place:E="top",offset:v=10,events:b=["hover"],openOnClick:A=!1,positionStrategy:r="absolute",middlewares:a,wrapper:s,delayShow:n=0,delayHide:y=0,float:L=!1,noArrow:tt=!1,clickable:M=!1,closeOnEsc:R=!1,style:et,position:ot,afterShow:rt,afterHide:nt,content:J,contentWrapperRef:I,isOpen:U,setIsOpen:it,activeAnchor:H,setActiveAnchor:lt})=>{let S=V(null),z=V(null),B=V(null),q=V(null),[Lt,st]=Z(E),[Tt,dt]=Z({}),[kt,mt]=Z({}),[D,yt]=Z(!1),[ht,Y]=Z(!1),Et=V(!1),ct=V(null),{anchorRefs:_t,setActiveAnchor:xt}=j(o),at=V(!1),[$,pt]=Z([]),X=V(!1),P=A||b.includes("click");$t(()=>(X.current=!0,()=>{X.current=!1}),[]),N(()=>{if(!D){let t=setTimeout(()=>{Y(!1)},150);return()=>{clearTimeout(t)}}return()=>null},[D]);let O=t=>{X.current&&(t&&Y(!0),setTimeout(()=>{X.current&&(it==null||it(t),U===void 0&&yt(t))},10))};N(()=>{if(U===void 0)return()=>null;U&&Y(!0);let t=setTimeout(()=>{yt(U)},10);return()=>{clearTimeout(t)}},[U]),N(()=>{D!==Et.current&&(Et.current=D,D?rt==null||rt():nt==null||nt())},[D]);let wt=()=>{B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{O(!0)},n)},G=(t=y)=>{q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{at.current||O(!1)},t)},ut=t=>{var i;if(!t)return;n?wt():O(!0);let l=(i=t.currentTarget)!=null?i:t.target;lt(l),xt({current:l}),q.current&&clearTimeout(q.current)},ft=()=>{M?G(y||100):y?G():O(!1),B.current&&clearTimeout(B.current)},W=({x:t,y:l})=>{Mt({place:E,offset:v,elementReference:{getBoundingClientRect(){return{x:t,y:l,width:0,height:0,top:l,left:t,right:t,bottom:l}}},tooltipReference:S.current,tooltipArrowReference:z.current,strategy:r,middlewares:a}).then(f=>{Object.keys(f.tooltipStyles).length&&dt(f.tooltipStyles),Object.keys(f.tooltipArrowStyles).length&&mt(f.tooltipArrowStyles),st(f.place)})},bt=t=>{if(!t)return;let l=t,i={x:l.clientX,y:l.clientY};W(i),ct.current=i},Dt=t=>{ut(t),y&&G()},T=t=>{var f;[document.querySelector(`[id='${m}']`),...$].some(g=>g==null?void 0:g.contains(t.target))||(f=S.current)!=null&&f.contains(t.target)||O(!1)},k=t=>{t.key==="Escape"&&O(!1)},e=Pt(ut,50),u=Pt(ft,50);N(()=>{var _,x;let t=new Set(_t);$.forEach(w=>{t.add({current:w})});let l=document.querySelector(`[id='${m}']`);l&&t.add({current:l}),R&&window.addEventListener("keydown",k);let i=[];P?(window.addEventListener("click",T),i.push({event:"click",listener:Dt})):(i.push({event:"mouseenter",listener:e},{event:"mouseleave",listener:u},{event:"focus",listener:e},{event:"blur",listener:u}),L&&i.push({event:"mousemove",listener:bt}));let f=()=>{at.current=!0},g=()=>{at.current=!1,ft()};return M&&!P&&((_=S.current)==null||_.addEventListener("mouseenter",f),(x=S.current)==null||x.addEventListener("mouseleave",g)),i.forEach(({event:w,listener:At})=>{t.forEach(Ct=>{var St;(St=Ct.current)==null||St.addEventListener(w,At)})}),()=>{var w,At;P&&window.removeEventListener("click",T),R&&window.removeEventListener("keydown",k),M&&!P&&((w=S.current)==null||w.removeEventListener("mouseenter",f),(At=S.current)==null||At.removeEventListener("mouseleave",g)),i.forEach(({event:Ct,listener:St})=>{t.forEach(Ut=>{var Kt;(Kt=Ut.current)==null||Kt.removeEventListener(Ct,St)})})}},[ht,_t,$,R,b]),N(()=>{let t=p!=null?p:"";!t&&o&&(t=`[data-tooltip-id='${o}']`);let l=f=>{let g=[];f.forEach(_=>{if(_.type==="attributes"&&_.attributeName==="data-tooltip-id"&&_.target.getAttribute("data-tooltip-id")===o&&g.push(_.target),_.type==="childList"&&(H&&[..._.removedNodes].some(x=>{var w;return(w=x==null?void 0:x.contains)!=null&&w.call(x,H)?(Y(!1),O(!1),lt(null),!0):!1}),!!t))try{let x=[..._.addedNodes].filter(w=>w.nodeType===1);g.push(...x.filter(w=>w.matches(t))),g.push(...x.flatMap(w=>[...w.querySelectorAll(t)]))}catch(x){}}),g.length&&pt(_=>[..._,...g])},i=new MutationObserver(l);return i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"]}),()=>{i.disconnect()}},[o,p,H]);let K=()=>{if(ot){W(ot);return}if(L){ct.current&&W(ct.current);return}Mt({place:E,offset:v,elementReference:H,tooltipReference:S.current,tooltipArrowReference:z.current,strategy:r,middlewares:a}).then(t=>{X.current&&(Object.keys(t.tooltipStyles).length&&dt(t.tooltipStyles),Object.keys(t.tooltipArrowStyles).length&&mt(t.tooltipArrowStyles),st(t.place))})};N(()=>{K()},[D,H,J,et,E,v,r,ot]),N(()=>{if(!(I!=null&&I.current))return()=>null;let t=new ResizeObserver(()=>{K()});return t.observe(I.current),()=>{t.disconnect()}},[J,I==null?void 0:I.current]),N(()=>{var i;let t=document.querySelector(`[id='${m}']`),l=[...$,t];(!H||!l.includes(H))&&lt((i=$[0])!=null?i:t)},[m,$,H]),N(()=>()=>{B.current&&clearTimeout(B.current),q.current&&clearTimeout(q.current)},[]),N(()=>{let t=p;if(!t&&o&&(t=`[data-tooltip-id='${o}']`),!!t)try{let l=Array.from(document.querySelectorAll(t));pt(l)}catch(l){pt([])}},[o,p]);let Q=J&&D&&Object.keys(Tt).length>0;return ht?me(s,{id:o,role:"tooltip",className:Ft("react-tooltip",F.tooltip,F[c],d,`react-tooltip__place-${Lt}`,{[F.show]:Q,[F.fixed]:r==="fixed",[F.clickable]:M}),style:{...et,...Tt},ref:S,children:[J,de(s,{className:Ft("react-tooltip-arrow",F.arrow,h,{[F.noArrow]:tt}),style:kt,ref:z})]}):null},Ht=Te;import{jsx as he}from"react/jsx-runtime";var ye=({content:o})=>he("span",{dangerouslySetInnerHTML:{__html:o}}),Bt=ye;import{jsx as qt}from"react/jsx-runtime";var _e=({id:o,anchorId:d,anchorSelect:h,content:c,html:m,render:p,className:E,classNameArrow:v,variant:b="dark",place:A="top",offset:r=10,wrapper:a="div",children:s=null,events:n=["hover"],openOnClick:y=!1,positionStrategy:L="absolute",middlewares:tt,delayShow:M=0,delayHide:R=0,float:et=!1,noArrow:ot=!1,clickable:rt=!1,closeOnEsc:nt=!1,style:J,position:I,isOpen:U,setIsOpen:it,afterShow:H,afterHide:lt})=>{let[S,z]=C(c),[B,q]=C(m),[Lt,st]=C(A),[Tt,dt]=C(b),[kt,mt]=C(r),[D,yt]=C(M),[ht,Y]=C(R),[Et,ct]=C(et),[_t,xt]=C(a),[at,$]=C(n),[pt,X]=C(L),[P,O]=C(null),{anchorRefs:wt,activeAnchor:G}=j(o),ut=T=>T==null?void 0:T.getAttributeNames().reduce((e,u)=>{var K;if(u.startsWith("data-tooltip-")){let Q=u.replace(/^data-tooltip-/,"");e[Q]=(K=T==null?void 0:T.getAttribute(u))!=null?K:null}return e},{}),ft=T=>{let k={place:e=>{st(e!=null?e:A)},content:e=>{z(e!=null?e:c)},html:e=>{q(e!=null?e:m)},variant:e=>{dt(e!=null?e:b)},offset:e=>{mt(e===null?r:Number(e))},wrapper:e=>{xt(e!=null?e:a)},events:e=>{let u=e==null?void 0:e.split(" ");$(u!=null?u:n)},"position-strategy":e=>{X(e!=null?e:L)},"delay-show":e=>{yt(e===null?M:Number(e))},"delay-hide":e=>{Y(e===null?R:Number(e))},float:e=>{ct(e===null?et:e==="true")}};Object.values(k).forEach(e=>e(null)),Object.entries(T).forEach(([e,u])=>{var K;(K=k[e])==null||K.call(k,u)})};vt(()=>{z(c)},[c]),vt(()=>{q(m)},[m]),vt(()=>{st(A)},[A]),vt(()=>{var l;let T=new Set(wt),k=h;if(!k&&o&&(k=`[data-tooltip-id='${o}']`),k)try{document.querySelectorAll(k).forEach(f=>{T.add({current:f})})}catch(i){}let e=document.querySelector(`[id='${d}']`);if(e&&T.add({current:e}),!T.size)return()=>null;let u=(l=P!=null?P:e)!=null?l:G.current,K=i=>{i.forEach(f=>{var _;if(!u||f.type!=="attributes"||!((_=f.attributeName)!=null&&_.startsWith("data-tooltip-")))return;let g=ut(u);ft(g)})},Q=new MutationObserver(K),t={attributes:!0,childList:!1,subtree:!1};if(u){let i=ut(u);ft(i),Q.observe(u,t)}return()=>{Q.disconnect()}},[wt,G,P,d,h]);let W=s,bt=Ee(null);return p?W=qt("div",{ref:bt,className:"react-tooltip-content-wrapper",children:p({content:S!=null?S:null,activeAnchor:P})}):S&&(W=S),B&&(W=qt(Bt,{content:B})),qt(Ht,{...{id:o,anchorId:d,anchorSelect:h,className:E,classNameArrow:v,content:W,contentWrapperRef:bt,place:Lt,variant:Tt,offset:kt,wrapper:_t,events:at,openOnClick:y,positionStrategy:pt,middlewares:tt,delayShow:D,delayHide:ht,float:Et,noArrow:ot,clickable:rt,closeOnEsc:nt,style:J,position:I,isOpen:U,setIsOpen:it,afterShow:H,afterHide:lt,activeAnchor:P,setActiveAnchor:T=>O(T)}})},Vt=_e;export{Vt as Tooltip,It as TooltipProvider,Ot as TooltipWrapper};
//# sourceMappingURL=react-tooltip.esm.min.js.map
